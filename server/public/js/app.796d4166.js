(function(){"use strict";var t={164:function(t,e,o){var n=o(144),s=o(726),i=function(){var t=this,e=t._self._c;return e(s.Z,[e("router-view")],1)},r=[],c={},a=c,u=o(1),l=(0,u.Z)(a,i,r,!1,null,null,null),h=l.exports,m=o(154);n.ZP.use(m.Z);var d=new m.Z({}),p=o(345),v=o(643),f=o(509),k=o(894),y=o(455),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e(f.Z,[e(k.Z,{attrs:{align:"center",justify:"center"}},[e(v.Z,{staticClass:"ma-3",attrs:{color:"green",dark:""},on:{"~click":function(e){return t.host.apply(null,arguments)}}},[t._v("Host Game")]),e(v.Z,{staticClass:"ma-3",attrs:{color:"blue",dark:""},on:{"~click":function(e){return t.join.apply(null,arguments)}}},[t._v("Join Active Session")])],1),e("br"),e("center",[e(y.Z,{staticStyle:{width:"200px"},attrs:{label:"Room ID"},model:{value:t.roomid,callback:function(e){t.roomid=e},expression:"roomid"}})],1)],1)],1)},w=[],Z={name:"HomeView",data(){return{roomid:"1234"}},methods:{host(){this.$router.push({name:"host",query:{room:this.roomid}})},join(){this.$router.push({name:"play",query:{room:this.roomid}})}}},_=Z,g=(0,u.Z)(_,b,w,!1,null,null,null),P=g.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"text-h4 mb-5"},[t._v("Host View")]),e(v.Z,{attrs:{text:""},on:{click:function(e){return t.$router.push("/")}}},[t._v("Back")]),e("p",[t._v("Socket Connected: "+t._s(t.connectionStatus))]),e(v.Z,{on:{click:t.changeView}},[t._v("Emit view change")]),e("br"),e(v.Z,{attrs:{color:"green",dark:""},on:{click:t.connectSocket}},[t._v("connect to "+t._s(t.$route.query.room))]),e("br"),e(v.Z,{attrs:{color:"red",dark:""},on:{click:t.forceDisconnect}},[t._v("disconnect socket")]),e("br"),t._l(t.playerList,(function(o,n){return e("div",{key:o.id},[t._v(" "+t._s(n+1)+" - "+t._s(o)+" ")])}))],2)},x=[],j=o(359),C={data(){return{connectionStatus:!1,socket:null,currentView:0,playerList:[]}},methods:{connectSocket(){this.socket?.connected||(this.socket=(0,j.ZP)("/"),this.socket.on("connect",(()=>{this.socket.emit("join-room",this.$route.query.room,(t=>{"connected"===t&&(this.connectionStatus=!0,this.socket.emit("host-present"),this.socket.emit("report-to-host"))}))})),this.socket.on("player-join",(t=>{this.playerList.push(t)})),this.socket.on("report-to-players",(()=>{this.socket.emit("host-present")})),this.socket.on("roll-call",(()=>{this.playerList=[],this.socket.emit("host-present")})),document.addEventListener("visibilitychange",this.emitVisibility))},emitVisibility(){this.socket.emit("visibility-handler",document.visibilityState)},changeView(){this.currentView++,this.socket.emit("change-view",this.currentView)},forceDisconnect(){this.socket.disconnect(),this.connectionStatus=!1,this.playerList=[]}},destroyed(){document.removeEventListener("visibilitychange",this.emitVisibility)}},V=C,O=(0,u.Z)(V,S,x,!1,null,null,null),D=O.exports,$=o(816),L=o(255),T=o(770),E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"text-h4 mb-5"},[t._v("Player View")]),e(v.Z,{attrs:{text:""},on:{click:function(e){return t.$router.push("/")}}},[t._v("Back")]),e("p",[t._v("Socket Connected: "+t._s(t.connectionStatus))]),e("p",[t._v("Current View: "+t._s(t.currentView))]),e(y.Z,{attrs:{label:"Enter name"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(v.Z,{attrs:{color:"green",dark:""},on:{click:t.connectSocket}},[t._v("connect socket")]),e("br"),e(v.Z,{attrs:{color:"red",dark:""},on:{click:t.forceDisconnect}},[t._v("Force Disconnect")]),e(T.Z,{attrs:{persistent:"","max-width":"290"},model:{value:t.showPauseDialog,callback:function(e){t.showPauseDialog=e},expression:"showPauseDialog"}},[e($.Z,[e(L.EB,{staticClass:"text-h5"},[t._v(" Game Foribly Paused! ")]),e(L.ZB,[t._v(" Tell the fucking host to switch the screen back on so you can resume the dman game ")])],1)],1)],1)},q=[],B={data(){return{connectionStatus:!1,socket:null,showPauseDialog:!1,currentView:0,username:"",hostPresent:!0}},methods:{connectSocket(){this.socket?.connected||(this.socket=(0,j.ZP)("/"),this.socket.on("connect",(()=>{this.socket.emit("join-room",this.$route.query.room,(t=>{"connected"===t&&(this.connectionStatus=!0,this.socket.emit("player-join",this.username),this.hostCountdown(),this.socket.emit("report-to-players"))}))})),this.socket.on("visibility-handler",(t=>{this.showPauseDialog="hidden"===t})),this.socket.on("change-view",(t=>{this.currentView=t})),this.socket.on("roll-call",(()=>{this.socket.emit("player-join",this.username),this.hostCountdown()})),this.socket.on("host-present",(()=>{this.hostPresent=!0})),this.socket.on("report-to-host",(()=>{this.socket.emit("player-join",this.username)})))},forceDisconnect(){this.socket.disconnect(),this.connectionStatus=!1},hostCountdown(){this.hostPresent=!1,setTimeout((()=>{this.hostPresent||this.$router.push("/")}),3e3)}}},F=B,H=(0,u.Z)(F,E,q,!1,null,null,null),G=H.exports;n.ZP.use(p.ZP);const M=[{path:"/",name:"home",component:P},{path:"/host",name:"host",component:D},{path:"/play",name:"play",component:G}],A=new p.ZP({mode:"history",base:"/",routes:M});var I=A,J=o(629);n.ZP.use(J.ZP);var R=new J.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});n.ZP.config.productionTip=!1,new n.ZP({vuetify:d,router:I,store:R,render:t=>t(h)}).$mount("#app")}},e={};function o(n){var s=e[n];if(void 0!==s)return s.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,o),i.exports}o.m=t,function(){var t=[];o.O=function(e,n,s,i){if(!n){var r=1/0;for(l=0;l<t.length;l++){n=t[l][0],s=t[l][1],i=t[l][2];for(var c=!0,a=0;a<n.length;a++)(!1&i||r>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[a])}))?n.splice(a--,1):(c=!1,i<r&&(r=i));if(c){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,s,i]}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,i,r=n[0],c=n[1],a=n[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in c)o.o(c,s)&&(o.m[s]=c[s]);if(a)var l=a(o)}for(e&&e(n);u<r.length;u++)i=r[u],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return o.O(l)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(164)}));n=o.O(n)})();
//# sourceMappingURL=app.796d4166.js.map
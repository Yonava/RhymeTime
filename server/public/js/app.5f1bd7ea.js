(function(){"use strict";var t={872:function(t,e,n){var s=n(144),o=n(726),i=function(){var t=this,e=t._self._c;return e(o.Z,[e("router-view")],1)},r=[],c={},a=c,l=n(1),u=(0,l.Z)(a,i,r,!1,null,null,null),d=u.exports,h=n(154);s.ZP.use(h.Z);var p=new h.Z({}),m=n(345),v=n(643),f=n(509),k=n(894),y=n(455),b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e(f.Z,[e(k.Z,{attrs:{align:"center",justify:"center"}},[e(v.Z,{staticClass:"ma-3",attrs:{color:"green",dark:""},on:{"~click":function(e){return t.host.apply(null,arguments)}}},[t._v("Host Game")]),e(v.Z,{staticClass:"ma-3",attrs:{color:"blue",dark:""},on:{"~click":function(e){return t.join.apply(null,arguments)}}},[t._v("Join Active Session")])],1),e("br"),e("center",[e(y.Z,{staticStyle:{width:"200px"},attrs:{label:"Nickname"},model:{value:t.$store.state.nickname,callback:function(e){t.$set(t.$store.state,"nickname",e)},expression:"$store.state.nickname"}}),e(y.Z,{staticStyle:{width:"200px"},attrs:{label:"Room ID"},model:{value:t.$store.state.roomid,callback:function(e){t.$set(t.$store.state,"roomid",e)},expression:"$store.state.roomid"}})],1)],1)],1)},w=[],_={name:"HomeView",data(){return{}},methods:{host(){this.$router.push({name:"host"})},join(){this.$router.push({name:"play"})}}},g=_,Z=(0,l.Z)(g,b,w,!1,null,null,null),x=Z.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"text-h4 mb-5"},[t._v("Host View")]),e(v.Z,{attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.exit.apply(null,arguments)}}},[t._v("Back")]),e("p",[t._v("Socket Connected: "+t._s(t.connectionStatus))]),e("br"),e(y.Z,{model:{value:t.currentView,callback:function(e){t.currentView=e},expression:"currentView"}}),e("br"),e(t.currentView,{tag:"component",attrs:{playerList:t.playerList,promptResponses:t.promptResponses,socketInstance:t.socket,voteCount:t.ballotBox},on:{"change-view":function(e){t.currentView=e}}})],1)},$=[],S=function(){var t=this,e=t._self._c;return e("div",[t._v(" Players In Game: "),t._l(t.playerList,(function(n){return e("div",{key:n.id},[t._v(" "+t._s(n)+" ")])})),e("br"),e("br"),e(v.Z,{attrs:{color:"green",dark:""},on:{click:function(e){return t.$emit("change-view","intro")}}},[t._v("Start Game")])],2)},R=[],O={props:{playerList:{type:Array,required:!0}}},j=O,C=(0,l.Z)(j,S,R,!1,null,null,null),I=C.exports,V=function(){var t=this,e=t._self._c;return e("div",[t._v(" Find a way to put these "+t._s(t.words.length)+" rhyming words together! "),e("br"),t._v(" Your Words: "),e("br"),t._l(t.words,(function(n){return e("span",{key:n.id},[t.words[t.words.length-1]===n?e("span",[t._v(t._s(", and "))]):t.words[0]!==n?e("span",[t._v(t._s(", "))]):t._e(),e("span",{staticClass:"word"},[t._v(t._s(n))])])})),e("br"),e("b",[t._v("Waiting On:")]),t._l(t.notAnswered,(function(n){return e("div",{key:n.id},[t._v(" "+t._s(n)+" ")])})),e("br"),e("b",[t._v("Players Who Have Responded:")]),t._l(t.responseArray,(function(n){return e("div",{key:n.id},[t._v(" "+t._s(n)+" "+t._s(t.promptResponses[n])+" ")])})),e("br"),e(v.Z,{attrs:{disabled:!!t.notAnswered.length},on:{click:function(e){return e.stopPropagation(),t.$emit("change-view","vote")}}},[t._v("Start Voting")])],2)},T=[],A={data(){return{responseArray:[],words:[],notAnswered:[]}},mounted(){const t=[["ground","pound","round"],["crown","grown"],["paid","afraid","laid"],["elaborate","vacate"],["fvmo","w","sdf","fw","wwv"]];this.words=t[Math.floor(Math.random()*t.length)],this.socketInstance.emit("new-words",this.words)},props:{promptResponses:{type:Object,required:!0},playerList:{type:Array,require:!0},socketInstance:{required:!0}},watch:{promptResponses:{immediate:!0,handler(t){this.responseArray=Object.keys(t),this.notAnswered=this.playerList.filter((t=>!this.responseArray.includes(t)))}}}},D=A,E=(0,l.Z)(D,V,T,!1,null,"5ad6350e",null),H=E.exports,L=function(){var t=this,e=t._self._c;return e("div",[t._v(" Your submissions: "),e("br"),t._v(" "+t._s(t.promptResponses)+" "),e("br"),e("br"),e("br"),t._v(" Here are the live results! "),e("br"),t._v(" "+t._s(t.voteCount)+" "),e("br"),e(v.Z,{on:{click:function(e){return e.stopPropagation(),t.$emit("change-view","respond")}}},[t._v("Continue to next round")])],1)},B=[],q={props:{promptResponses:{type:Object,required:!0},voteCount:{type:Object,required:!0},socketInstance:{required:!0}},destroyed(){this.$parent.promptResponses={},this.$parent.ballotBox={}},mounted(){this.socketInstance.emit("candidate-list",Object.keys(this.promptResponses))}},M=q,Y=(0,l.Z)(M,L,B,!1,null,null,null),W=Y.exports,G=function(){var t=this,e=t._self._c;return e("div",[t._v(" HEY EVERYBODY, WELCOME TO RHYMETIME. just close your eyes and imagine there is a tutorial video now playing in front of you, if you really set your mind on it, you may manifest it into reality. ")])},F=[],J={mounted(){setTimeout((()=>{this.$emit("change-view","respond")}),3e3)}},N=J,z=(0,l.Z)(N,G,F,!1,null,null,null),K=z.exports,Q=n(359),U={components:{waiting:I,respond:H,vote:W,intro:K},data(){return{connectionStatus:!1,socket:null,currentView:"waiting",playerList:[],promptResponses:{},ballotBox:{}}},destroyed(){this.socket?.connected&&this.socket.disconnect(),document.removeEventListener("visibilitychange",this.emitVisibility)},mounted(){this.connectSocket()},methods:{connectSocket(){const t=window.location.href.includes("localhost")?"http://localhost:3000":"/";this.socket?.connected||(this.socket=(0,Q.ZP)(t),this.socket.on("connect",(()=>{this.socket.emit("join-room",this.$store.state.roomid,(t=>{"connected"===t&&(this.connectionStatus=!0,this.socket.emit("host-present"),this.socket.emit("report-to-host"))}))})),this.socket.on("player-join",(t=>{this.playerList.push(t)})),this.socket.on("report-to-players",(()=>{this.socket.emit("host-present")})),this.socket.on("roll-call",(()=>{this.playerList=[],this.socket.emit("host-present")})),this.socket.on("player-prompt-submission",(t=>{this.promptResponses={...this.promptResponses,...t}})),this.socket.on("ballot-collector",(t=>{this.ballotBox={...this.ballotBox,...t}})),document.addEventListener("visibilitychange",this.emitVisibility))},emitVisibility(){this.socket.emit("visibility-handler",document.visibilityState)},exit(){this.forceDisconnect(),this.$router.push("/")},forceDisconnect(){this.socket.disconnect(),this.connectionStatus=!1}},watch:{currentView(t){Object.keys(this.$options.components).includes(t)&&this.socket.emit("change-view",t)}}},X=U,tt=(0,l.Z)(X,P,$,!1,null,null,null),et=tt.exports,nt=n(816),st=n(255),ot=n(770),it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"center"},[e("div",{staticClass:"text-h4 mb-5"},[t._v("Player View")]),e(v.Z,{attrs:{text:""},on:{click:function(e){return t.$router.push("/")}}},[t._v("Back")]),e(t.currentView,{tag:"component",attrs:{candidates:t.candidates,wordsInPrompt:t.wordsInPrompt,socketInstance:t.socket}}),e(ot.Z,{attrs:{persistent:"","max-width":"290"},model:{value:t.showPauseDialog,callback:function(e){t.showPauseDialog=e},expression:"showPauseDialog"}},[e(nt.Z,[e(st.EB,{staticClass:"text-h5"},[t._v(" Game Paused! ")]),e(st.ZB,[t._v(" Host screen is currently not visible. Once host screen becomes visible again, the game may resume. ")])],1)],1)],1)},rt=[],ct=function(){var t=this,e=t._self._c;return e("div",[t._v(" Vote For The Most ðŸ”¥ Bar "),e("draggable",{model:{value:t.$parent.candidates,callback:function(e){t.$set(t.$parent,"candidates",e)},expression:"$parent.candidates"}},t._l(t.$parent.candidates,(function(n){return e("div",{key:n.id},[e("h3",[t._v(t._s(n))])])})),0)],1)},at=[],lt=n(980),ut=n.n(lt),dt={components:{draggable:ut()},props:{socketInstance:{required:!0}},mounted(){this.$watch((()=>this.$parent.candidates),(t=>{const e={};e[this.$store.state.nickname]=t,this.socketInstance.emit("submit-ballot",e)}))}},ht=dt,pt=(0,l.Z)(ht,ct,at,!1,null,null,null),mt=pt.exports,vt=function(){var t=this,e=t._self._c;return e("div",[t.submitted?e("div",[!0===t.submissionReceived?e("div",[t._v(" Your response has been submitted. Waiting on other player... ")]):!1===t.submissionReceived?e("div",[t._v(" Error encountered while sending your response to the host. This could be an internet connectivity issue "),e("br"),e(v.Z,{attrs:{text:""},on:{click:function(e){return e.stopPropagation(),t.sendResponseToHost.apply(null,arguments)}}},[t._v("Try Again")])],1):e("div",[t._v(" Sending Response To Host... ")])]):e("div",[t._v(" Respond To The Prompt On Screen: "),t._l(t.wordsInPrompt,(function(n,s){return e("div",{key:n.id},[e(y.Z,{attrs:{label:n},model:{value:t.responses[s],callback:function(e){t.$set(t.responses,s,e)},expression:"responses[index]"}})],1)})),e("br"),e(v.Z,{on:{"~click":function(e){return t.submitResponse.apply(null,arguments)}}},[t._v(" Submit ")])],2)])},ft=[],kt={data(){return{responses:[],submitted:!1,submissionReceived:void 0}},props:{wordsInPrompt:{type:Array,required:!0},socketInstance:{required:!0,validator:t=>t?.connected}},methods:{submitResponse(){this.submitted=!0,this.sendResponseToHost()},sendResponseToHost(){const t={};t[this.$store.state.nickname]=this.responses,this.socketInstance.emit("player-prompt-response",t,(t=>{this.submissionReceived="sent"===t}))}}},yt=kt,bt=(0,l.Z)(yt,vt,ft,!1,null,null,null),wt=bt.exports,_t=function(){var t=this,e=t._self._c;return e("div",[t._v("Waiting for game to begin...")])},gt=[],Zt={},xt=(0,l.Z)(Zt,_t,gt,!1,null,null,null),Pt=xt.exports,$t=function(){var t=this,e=t._self._c;return e("div",[t._v(" Please direct your attention to the hosts screen while introduction is rolling... ")])},St=[],Rt={},Ot=Rt,jt=(0,l.Z)(Ot,$t,St,!1,null,null,null),Ct=jt.exports,It={components:{vote:mt,respond:wt,waiting:Pt,intro:Ct},data(){return{connectionStatus:!1,socket:null,showPauseDialog:!1,currentView:"waiting",hostPresent:!0,wordsInPrompt:[],candidates:[]}},destroyed(){this.socket?.connected&&this.forceDisconnect()},mounted(){this.connectSocket()},methods:{connectSocket(){const t=window.location.href.includes("localhost")?"http://localhost:3000":"/";this.socket?.connected||(this.socket=(0,Q.ZP)(t),this.socket.on("connect",(()=>{this.socket.emit("join-room",this.$store.state.roomid,(t=>{"connected"===t&&(this.connectionStatus=!0,this.socket.emit("player-join",this.$store.state.nickname),this.hostCountdown(),this.socket.emit("report-to-players"))}))})),this.socket.on("visibility-handler",(t=>{this.showPauseDialog="hidden"===t})),this.socket.on("change-view",(t=>{this.currentView=t})),this.socket.on("roll-call",(()=>{this.socket.emit("player-join",this.$store.state.nickname),this.hostCountdown()})),this.socket.on("host-present",(()=>{this.hostPresent=!0})),this.socket.on("report-to-host",(()=>{this.socket.emit("player-join",this.$store.state.nickname)})),this.socket.on("new-words",(t=>{this.wordsInPrompt=t})),this.socket.on("candidate-list",(t=>{this.candidates=t})))},forceDisconnect(){this.socket.disconnect(),this.connectionStatus=!1},hostCountdown(){this.hostPresent=!1,setTimeout((()=>{this.hostPresent||(this.socket?.connected&&this.forceDisconnect(),this.$router.push("/"))}),3e3)}}},Vt=It,Tt=(0,l.Z)(Vt,it,rt,!1,null,null,null),At=Tt.exports;s.ZP.use(m.ZP);const Dt=[{path:"/",name:"home",component:x},{path:"/host",name:"host",component:et},{path:"/play",name:"play",component:At}],Et=new m.ZP({mode:"history",base:"/",routes:Dt});var Ht=Et,Lt=n(629);s.ZP.use(Lt.ZP);var Bt=new Lt.ZP.Store({state:{nickname:Math.random().toString().substring(2,6),roomid:"aroom"},getters:{},mutations:{},actions:{},modules:{}});s.ZP.config.productionTip=!1,new s.ZP({vuetify:p,router:Ht,store:Bt,render:t=>t(d)}).$mount("#app")}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,s,o,i){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],i=t[u][2];for(var c=!0,a=0;a<s.length;a++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](s[a])}))?s.splice(a--,1):(c=!1,i<r&&(r=i));if(c){t.splice(u--,1);var l=o();void 0!==l&&(e=l)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[s,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,i,r=s[0],c=s[1],a=s[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(a)var u=a(n)}for(e&&e(s);l<r.length;l++)i=r[l],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},s=self["webpackChunkclient"]=self["webpackChunkclient"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(872)}));s=n.O(s)})();
//# sourceMappingURL=app.5f1bd7ea.js.map